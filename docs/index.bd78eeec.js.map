{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-df4c2645a9ecf6dd17f445dd518f80ef.js","src/main.js","src/SpriteLoader.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","src/Battlefield.js","src/Hero.js","src/Observer.js"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d751713988987e9331980363e24189ce\";module.bundle.HMR_BUNDLE_ID = \"e9312995559a911a6f9b63a6bd78eeec\";// @flow\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE */\n\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: mixed;\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\n*/\n\nvar OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function(fn) {\n      this._acceptCallbacks.push(fn || function() {});\n    },\n    dispose: function(fn) {\n      this._disposeCallbacks.push(fn);\n    },\n  };\n  module.bundle.hotData = undefined;\n}\nmodule.bundle.Module = Module;\n\nvar checkedAssets /*: {|[string]: boolean|} */,\n  acceptedAssets /*: {|[string]: boolean|} */,\n  assetsToAccept /*: Array<[ParcelRequire, string]> */;\n\nfunction getHostname() {\n  return (\n    HMR_HOST ||\n    (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost')\n  );\n}\n\nfunction getPort() {\n  return HMR_PORT || location.port;\n}\n\n// eslint-disable-next-line no-redeclare\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol =\n    HMR_SECURE ||\n    (location.protocol == 'https:' &&\n      !/localhost|127.0.0.1|0.0.0.0/.test(hostname))\n      ? 'wss'\n      : 'ws';\n  var ws = new WebSocket(\n    protocol + '://' + hostname + (port ? ':' + port : '') + '/',\n  );\n  // $FlowFixMe\n  ws.onmessage = function(event /*: {data: string, ...} */) {\n    checkedAssets = ({} /*: {|[string]: boolean|} */);\n    acceptedAssets = ({} /*: {|[string]: boolean|} */);\n    assetsToAccept = [];\n\n    var data /*: HMRMessage */ = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      removeErrorOverlay();\n\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH);\n\n      // Handle HMR Update\n      var handled = false;\n      assets.forEach(asset => {\n        var didAccept =\n          asset.type === 'css' ||\n          (asset.type === 'js' &&\n            hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle));\n        if (didAccept) {\n          handled = true;\n        }\n      });\n\n      if (handled) {\n        console.clear();\n\n        assets.forEach(function(asset) {\n          hmrApply(module.bundle.root, asset);\n        });\n\n        for (var i = 0; i < assetsToAccept.length; i++) {\n          var id = assetsToAccept[i][1];\n          if (!acceptedAssets[id]) {\n            hmrAcceptRun(assetsToAccept[i][0], id);\n          }\n        }\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe\n          ? ansiDiagnostic.codeframe\n          : ansiDiagnostic.stack;\n\n        console.error(\n          'ðŸš¨ [parcel]: ' +\n            ansiDiagnostic.message +\n            '\\n' +\n            stack +\n            '\\n\\n' +\n            ansiDiagnostic.hints.join('\\n'),\n        );\n      }\n\n      // Render the fancy html overlay\n      removeErrorOverlay();\n      var overlay = createErrorOverlay(data.diagnostics.html);\n      // $FlowFixMe\n      document.body.appendChild(overlay);\n    }\n  };\n  ws.onerror = function(e) {\n    console.error(e.message);\n  };\n  ws.onclose = function(e) {\n    if (process.env.PARCEL_BUILD_ENV !== 'test') {\n      console.warn('[parcel] ðŸš¨ Connection to the HMR server was lost');\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel] âœ¨ Error resolved');\n  }\n}\n\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  let errorHTML =\n    '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.codeframe ? diagnostic.codeframe : diagnostic.stack;\n\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n          ðŸš¨ ${diagnostic.message}\n        </div>\n        <pre>\n          ${stack}\n        </pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div>' + hint + '</div>').join('')}\n        </div>\n      </div>\n    `;\n  }\n\n  errorHTML += '</div>';\n\n  overlay.innerHTML = errorHTML;\n\n  return overlay;\n}\n\nfunction getParents(bundle, id) /*: Array<[ParcelRequire, string]> */ {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function() {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n  newLink.setAttribute(\n    'href',\n    // $FlowFixMe\n    link.getAttribute('href').split('?')[0] + '?' + Date.now(),\n  );\n  // $FlowFixMe\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function() {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href /*: string */ = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer =\n        hostname === 'localhost'\n          ? new RegExp(\n              '^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort(),\n            ).test(href)\n          : href.indexOf(hostname + ':' + getPort());\n      var absolute =\n        /^https?:\\/\\//i.test(href) &&\n        href.indexOf(window.location.origin) !== 0 &&\n        !servedFromHMRServer;\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nfunction hmrApply(bundle /*: ParcelRequire */, asset /*:  HMRAsset */) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (asset.type === 'css') {\n    reloadCSS();\n    return;\n  }\n\n  let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n  if (deps) {\n    var fn = new Function('require', 'module', 'exports', asset.output);\n    modules[asset.id] = [fn, deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(\n  bundle /*: ParcelRequire */,\n  id /*: string */,\n  depsByBundle /*: ?{ [string]: { [string]: string } }*/,\n) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(module.bundle.root, id).some(function(v) {\n    return hmrAcceptCheck(v[0], v[1], null);\n  });\n}\n\nfunction hmrAcceptRun(bundle /*: ParcelRequire */, id /*: string */) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function(cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function(cb) {\n      var assetsToAlsoAccept = cb(function() {\n        return getParents(module.bundle.root, id);\n      });\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n  acceptedAssets[id] = true;\n}\n","//fetch json!\n\nimport SpriteLoader from './SpriteLoader';\nimport Battlefield from './Battlefield';\nimport Hero from './Hero';\nimport Observer from './Observer';\n\nvar level = fetchLevel();\n\nasync function fetchLevel(){\n    return fetch('./sprites.json')\n    .then(response => response.json())\n    .then(data => data)\n    .catch(() => \"fatal\");\n}\n\nvar battlefield = null;\nvar elements = [];\nvar spriteLoader = null;\nvar observer = null;\n\n\nfunction onSpritesLoaded(){   \n\n    // load Characters\n  //  console.log(\"sprites loaded\");\n\n    elements.push(new Hero(spriteLoader.getCharacter('hero')));\n\n    battlefield = new Battlefield(document.getElementById('battlefield'), elements);\n\n    observer = new Observer();\n\n    setInterval(onRefresh, 33);\n\n}\n\nfunction onRefresh(){\n    battlefield.refresh();\n    observer.observe(elements[0]);\n    elements[0].calculate();\n}\n\nlevel.then(\n    (data) => {\n        //console.log(data);\n        spriteLoader = new SpriteLoader(data, onSpritesLoaded);\n        spriteLoader.loadCharacters();\n\n    }\n);\n\n\n\n\n","export default SpriteLoader;\n\nfunction SpriteLoader(level, onSuccess){\n    \n    this.spritesPath = './sprites/';\n    this.level = level;\n    this.characters = {};\n    this.charactersSpriteCount = this.level.spriteCount;\n    this.obstacles = {};\n    this.obstaclesSpriteCount = 0;\n    this.onSuccess = onSuccess;\n\n    this.loadCharacters = () => {\n        let test = this;\n        this.level.characters.forEach(\n            function iterateCharacters(character){\n\n                this.characters[character.name] = {name: character.name, movements: {}};\n                \n                character.movements.forEach(\n                    function iterateMovements(movement){\n                        \n                        tmpMovement = new Movement(movement.id, movement.amount, movement.fileType, movement.height, movement.width);\n                        console.log(movement.amount);\n                        for(i = 0; i < movement.amount; i++){\n                            console.log(this.spritesPath + character.name + movement.id + movement.fileType);\n                            let tmpImage = new Image();\n                            tmpImage.addEventListener('load', this.characterSpriteLoaded);\n\n                            tmpImage.addEventListener('error', (err) => {console.log(err)});\n                            \n                            tmpImage.src = this.spritesPath + character.name + '_' + movement.id + i + movement.fileType;\n                            tmpMovement.setSprite(i, tmpImage);                            \n                        }    \n                        \n                        this.characters[character.name]['movements'][movement.id] = tmpMovement;\n                    }\n                , test);\n            }\n        , test);\n    };\n\n    this.characterSpriteLoaded = (ev) => {\n        this.charactersSpriteCount--;\n        console.log(this.charactersSpriteCount);\n        if(this.charactersSpriteCount === 0) this.levelLoaded();\n    };\n\n    this.levelLoaded = () => {\n        if((this.charactersSpriteCount + this.obstaclesSpriteCount) === 0) this.onSuccess();\n    }\n\n    this.getCharacter = (characterName) => {\n        return this.characters[characterName];\n    }\n}\n\nfunction Movement(id, amount, fileType, height, width){\n\n    this.id = id;\n    this.amount = amount;\n    this.fileType = fileType;\n    this.height = height;\n    this.width = width;\n    this.sprites = new Array(this.amount);\n\n    this.setSprite = (index, image) => {\n        this.sprites[index] = image;\n    };\n\n\n    \n}","exports.interopDefault = function(a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function(a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function(source, dest) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule') {\n      return;\n    }\n\n    // Skip duplicate re-exports when they have the same value.\n    if (key in dest && dest[key] === source[key]) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function() {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function(dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","export default Battlefield;\n\nfunction Battlefield(battlefield, elements){\n\n    this.elements = elements;\n    this.battlefield = battlefield;\n\n    this.battlefield.getContext('2d').scale(2,2);\n\n    this.refresh = () => {\n        //console.log(\"refresh!\");\n\n        let ctx = this.battlefield.getContext('2d');\n        ctx.clearRect(0, 0, this.battlefield.width, this.battlefield.height);\n\n        elements.forEach(element => {\n            element.draw(ctx);\n        });\n    };\n\n}","export default Hero;\n\n/* function KeyPressRegistrar(){\n    \n    this.keyLeft = [];\n    this.keyRight = [];\n\n    this.registerKeyLeft = (callback) => {\n        this.keyLeft.push(callback);\n        console.log(callback);\n    };\n\n    this.registerKeyRight = (callback) => {\n        this.keyRight.push(callback);\n    };\n\n    document.addEventListener('keydown', event => {\n        var callbacks;\n        switch(event.key){\n            case 'ArrowLeft':\n                callbacks = this.keyLeft\n                break;\n            case 'ArrowRight':\n                callbacks = this.keyRight\n                break;\n        }\n        \n        callbacks.forEach(element => {element()});        \n    });\n\n} */\n\n/* function SpritesLoader(path, id, amount, callback){\n\n    this.path = path;\n    this.id = id;\n    this.amount = amount;\n    this.callback = callback;\n    this.images = [];\n\n    this.load = () => {\n\n        for(i = 0; i < amount; i++){\n\n            let tmpImage = new Image();\n            tmpImage.addEventListener('load', this.ackLoad);\n            tmpImage.src = this.path + id + i + '.png';\n            console.log(\"Loading: \" + this.path + id + i + '.png');\n            this.images.push(tmpImage);\n        }       \n    \n    };\n\n    this.ackLoad = (ev) => {\n       //this.images.push(ev.target);\n        //this.amount--;\n        console.log(\"Loaded: \" + ev.target)\n        if (this.amount === 0){\n            console.log(\"loades all sprites\");\n            callback(this.images);\n            \n        }\n    }\n    \n\n} */\n\nfunction Hero(character){\n\n    this.character = character;\n    this.movements = this.character.movements;\n    this.curMovement = 'stand';\n    this.direction = 'left';\n    this.directionY = '';\n    this.curMovementId = 'left_stand';\n    this.mathDirection = 0;\n    this.posX = 5;\n    this.posY = 2;\n    this.speedX = 3;\n    this.index = 0;\n\n    this.jumpHeight = 30;\n    this.jumpDirection = 1;\n    this.jumpSpeed = 3;\n    this.jumpStartPosY = 0;\n\n    this.pogoSpeed = 4;\n    this.pogoHeight = 50;\n\n    this.keyRegistrar = {}\n\n    this.blockShoot = false;\n\n    setInterval(this.calculate, 100);\n\n    document.addEventListener('keydown', \n        ev => {\n\n            //if(!Object.keys(this.keyRegistrar).includes(ev.key)) return;\n\n            if(ev.key.indexOf('Arrow') !== -1){\n\n                if(ev.key === 'ArrowLeft'){\n                    this.keyRegistrar[ev.key] = (this.keyRegistrar['ArrowRight'] ? false : true);\n                }else if(ev.key === 'ArrowRight'){\n                    this.keyRegistrar[ev.key] = (this.keyRegistrar['ArrowLeft'] ? false: true);\n                }\n\n            }else{\n                this.keyRegistrar[ev.key] = true;\n            }\n\n        this.processKeyEvent();\n    });\n\n    document.addEventListener('keyup',\n        ev => {\n\n           // if(!Object.keys(this.keyRegistrar).includes(ev.key)) return;\n            this.keyRegistrar[ev.key] = false;\n        \n            this.processKeyEvent();\n    });\n\n    this.processKeyEvent = function processKeyEvent(){\n\n        // define direction\n        if(this.keyRegistrar['ArrowLeft'] === true) {\n            this.direction = 'left';\n            this.mathDirection = -1;\n        }else if (this.keyRegistrar['ArrowRight'] === true){\n            this.direction = 'right';\n            this.mathDirection = 1;\n        }else{\n            this.mathDirection = 0;\n        }\n\n        if(this.keyRegistrar['ArrowUp'] === true){\n            this.direction = 'up';\n        }else if (this.keyRegistrar['ArrowDown'] === true){\n            this.direction = 'down';\n        }\n\n        // interrupts\n        if((this.curMovement === 'pogojump') || (this.curMovement === 'pogofall')){\n            if(this.keyRegistrar['Control'] || this.keyRegistrar['AltGraph']) this.curMovement = 'fall';\n        }\n\n        // define movement\n        if((this.curMovement !== 'fall') && (this.curMovement !== 'jump') && (this.curMovement !== 'pogojump') && (this.curMovement !== 'pogofall')){ // while falling > Keen is not controllable\n            if((this.keyRegistrar['Control']) && !this.blockJump){\n                this.curMovement = 'jump';\n                this.blockJump = true;\n                this.jumpStartPosY = this.posY;\n                this.moveY();\n            }else if (this.keyRegistrar['AltGraph'] && !this.blockPogo){\n                this.curMovement = 'pogojump';\n                this.blockPogo = true;\n                this.jumpStartPosY = this.posY;\n                this.moveY();        \n            }else{\n                if(this.keyRegistrar['ArrowLeft'] || this.keyRegistrar['ArrowRight']){\n                    this.curMovement = 'run';\n                }else{\n                    this.curMovement = 'stand';\n                }\n            }\n        }\n        \n        if((this.curMovement !== 'pogojump') && (this.curMovement !== 'pogofall')){ // keen cannot shoot while using pogo\n            if(this.keyRegistrar[' '] && !this.blockShoot){\n\n\n                if(this.curMovement.indexOf('stand') !== -1){\n                    \n                }else{\n                    this.curMovement += '_shoot';\n                }\n\n                this.mathDirection = 0;\n\n            }\n        }\n\n        console.log(this.curMovement);\n        \n    this.blockJump = this.keyRegistrar['Control'];\n    this.blockPogo = this.keyRegistrar['AltGraph'];\n    this.blockShoot = this.keyRegistrar[' '];\n    };\n\n    this.moveX = () => {\n        this.posX = this.posX + (this.speedX * this.mathDirection);           \n    }\n\n    this.moveY = () => {\n        if(this.curMovement === 'jump'){\n            this.posY -= this.jumpSpeed;\n        }else if(this.curMovement === 'fall'){\n            this.posY += this.jumpSpeed;  \n        }else if(this.curMovement === 'pogojump'){\n            this.posY -= this.pogoSpeed;  \n        }else if(this.curMovement === 'pogofall'){\n            this.posY += this.pogoSpeed;  \n        }              \n    }\n\n    this.draw = (ctx) => {\n        this.curMovementId = this.direction + \"_\" + this.curMovement;    \n        this.index = (this.index + 1) % this.movements[this.curMovementId].amount;\n        ctx.drawImage(this.movements[this.curMovementId].sprites[this.index], this.posX, this.posY);\n    }\n\n    this.calculate = () => {\n\n      //  console.log('X: ' + this.posX + ' Y: ' + this.posY +  \" curMovement: \" + this.curMovement + ' curMovementId: ' + this.curMovementId);\n\n        // gets called repeatedly; enables self-controlled animation\n        \n        this.moveY();\n        this.moveX();\n\n        if(this.curMovement === 'jump'){            \n            if((this.jumpStartPosY - this.jumpHeight) >= this.posY){\n                this.curMovement = 'fall';\n            }            \n        }else if(this.curMovement === 'pogojump'){\n            if((this.jumpStartPosY - this.pogoHeight) >= this.posY){\n                this.curMovement = 'pogofall';\n            }   \n        }\n\n    }\n\n    this.invokeCollision = function invokeCollision(vector){\n        \n        if(vector.south.isColliding){\n            if(this.curMovement === 'fall'){\n                this.curMovement = 'stand';\n            }else if(this.curMovement === 'pogofall'){\n                this.curMovement = 'pogojump';\n            }\n\n\n\n        }else{\n            if((this.curMovement !== 'jump') && (this.curMovement !== 'pogojump') && (this.curMovement !== 'pogofall')) this.curMovement = 'fall';\n        }\n\n    };\n\n}","export default Observer;\n\nfunction Observer(){\n\n\n    this.elements = [];\n\n    this.add = (element) => {\n        this.elements.push(element);\n    };\n\n    this.observe = (element) => {\n\n        this.checkCollision(element);\n        //this.bullet();\n\n    };\n\n\n    this.checkCollision = (element) => {\n      \n        let vector = {\n            north: {\n                isColliding: false,\n                type: null\n            },\n            east: {\n                isColliding: false,\n                type: null\n            },\n            south: {\n                isColliding: false,\n                type: null\n            },\n            west: {\n                isColliding: false,\n                type: null\n            }\n        };\n\n        if(element.posY < 70){\n            vector.south.isColliding = false;\n        }else{\n            vector.south.isColliding = true;\n        }\n\n        element.invokeCollision(vector);\n    }\n\n\n}"],"names":[],"version":3,"file":"index.bd78eeec.js.map","sourceRoot":"/__parcel_source_root/"}